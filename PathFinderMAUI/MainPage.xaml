<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="PathFinder.MainPage"
             BackgroundColor="#0A0A0F">

    <ScrollView>
        <VerticalStackLayout Padding="25" Spacing="25">
            
            <!-- Header avec gradient effet -->
            <Border StrokeThickness="0" 
                    BackgroundColor="#1A1A2E"
                    Padding="30,25">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="20"/>
                </Border.StrokeShape>
                <Border.Shadow>
                    <Shadow Brush="#8B5CF6" Opacity="0.3" Radius="20" Offset="0,5" />
                </Border.Shadow>
                
                <Grid ColumnDefinitions="*,Auto">
                    <VerticalStackLayout Grid.Column="0" Spacing="12">
                        <Label Text="🎯 PathFinder" 
                               FontSize="32" 
                               FontAttributes="Bold"
                               TextColor="#06B6D4"
                               HorizontalOptions="Start" />
                        
                        <Label Text="Scanner de Réseau &amp; Vulnérabilités" 
                               FontSize="15" 
                               TextColor="#94A3B8" 
                               HorizontalOptions="Start"
                               FontAttributes="Italic" />
                        
                        <Label x:Name="UserLabel"
                               Text="👤 Connecté"
                               FontSize="12"
                               TextColor="#10B981"
                               HorizontalOptions="Start"
                               Margin="0,5,0,0" />
                    </VerticalStackLayout>
                    
                    <Button Grid.Column="1"
                            x:Name="LogoutButton"
                            Text="🚪 Déconnexion"
                            FontSize="14"
                            FontAttributes="Bold"
                            TextColor="White"
                            BackgroundColor="#EF4444"
                            CornerRadius="10"
                            Padding="15,10"
                            VerticalOptions="Start"
                            Clicked="OnLogoutClicked">
                        <Button.Shadow>
                            <Shadow Brush="#EF4444" Opacity="0.4" Radius="8" Offset="0,3" />
                        </Button.Shadow>
                    </Button>
                </Grid>
            </Border>

            <!-- Carte Informations Réseau -->
            <Border StrokeThickness="2" 
                    Stroke="#8B5CF6"
                    BackgroundColor="#16213E"
                    Padding="20">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="15"/>
                </Border.StrokeShape>
                <Border.Shadow>
                    <Shadow Brush="#06B6D4" Opacity="0.2" Radius="15" Offset="0,3" />
                </Border.Shadow>
                
                <VerticalStackLayout Spacing="18">
                    <Label Text="📡 INFORMATIONS RÉSEAU" 
                           FontSize="16" 
                           FontAttributes="Bold" 
                           TextColor="#06B6D4" />
                    
                    <!-- IP Locale avec badge -->
                    <Border BackgroundColor="#1A1A2E" 
                            Padding="15,12"
                            StrokeThickness="0">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="10"/>
                        </Border.StrokeShape>
                        <HorizontalStackLayout Spacing="10">
                            <Label Text="💻" FontSize="20" VerticalOptions="Center" />
                            <Label x:Name="LocalIPLabel"
                                   Text="Détection de votre IP..." 
                                   FontSize="15" 
                                   TextColor="#E2E8F0"
                                   VerticalOptions="Center" 
                                   HorizontalOptions="FillAndExpand" />
                        </HorizontalStackLayout>
                    </Border>
                    
                    <Label Text="PLAGE RÉSEAU À SCANNER" 
                           FontSize="13" 
                           FontAttributes="Bold" 
                           TextColor="#8B5CF6"
                           Margin="0,5,0,0" />
                    
                    <Border BackgroundColor="#0A0A0F" 
                            StrokeThickness="2"
                            Stroke="#8B5CF6"
                            Padding="3">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="10"/>
                        </Border.StrokeShape>
                        <Entry x:Name="TargetEntry"
                               Text="192.168.1.0/24"
                               Placeholder="Ex: 192.168.1.0/24"
                               PlaceholderColor="#64748B"
                               BackgroundColor="#1A1A2E"
                               TextColor="#E2E8F0"
                               FontSize="15"
                               Margin="5" />
                    </Border>
                    
                    <!-- Boutons d'action -->
                    <Grid ColumnDefinitions="*,10,*" Margin="0,10,0,0">
                        <!-- Bouton Scan moderne -->
                        <Button Grid.Column="0"
                                x:Name="ScanButton"
                                Text="🔍 SCANNER" 
                                FontSize="15"
                                FontAttributes="Bold"
                                TextColor="White"
                                CornerRadius="12"
                                HeightRequest="55"
                                Clicked="OnScanClicked">
                            <Button.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <GradientStop Color="#06B6D4" Offset="0.0" />
                                    <GradientStop Color="#8B5CF6" Offset="1.0" />
                                </LinearGradientBrush>
                            </Button.Background>
                            <Button.Shadow>
                                <Shadow Brush="#8B5CF6" Opacity="0.5" Radius="10" Offset="0,4" />
                            </Button.Shadow>
                        </Button>
                        
                        <!-- Bouton Export PDF -->
                        <Button Grid.Column="2"
                                x:Name="ExportButton"
                                Text="📄 EXPORT PDF" 
                                FontSize="15"
                                FontAttributes="Bold"
                                TextColor="White"
                                BackgroundColor="#10B981"
                                CornerRadius="12"
                                HeightRequest="55"
                                Clicked="OnExportClicked"
                                IsEnabled="False">
                            <Button.Shadow>
                                <Shadow Brush="#10B981" Opacity="0.5" Radius="10" Offset="0,4" />
                            </Button.Shadow>
                        </Button>
                    </Grid>
                    
                    <!-- Status avec animation -->
                    <Border BackgroundColor="#1A1A2E" 
                            Padding="12"
                            StrokeThickness="0"
                            Margin="0,5,0,0">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="8"/>
                        </Border.StrokeShape>
                        <Label x:Name="StatusLabel"
                               Text="⚡ Initialisation..." 
                               FontSize="13" 
                               TextColor="#94A3B8" 
                               HorizontalOptions="Center"
                               VerticalOptions="Center" />
                    </Border>
                </VerticalStackLayout>
            </Border>

            <!-- Résultats avec style moderne -->
            <Border StrokeThickness="2" 
                    Stroke="#06B6D4"
                    BackgroundColor="#16213E"
                    Padding="20">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="15"/>
                </Border.StrokeShape>
                <Border.Shadow>
                    <Shadow Brush="#06B6D4" Opacity="0.25" Radius="15" Offset="0,3" />
                </Border.Shadow>
                
                <VerticalStackLayout Spacing="15">
                    <HorizontalStackLayout Spacing="10">
                        <Label Text="📊" FontSize="22" VerticalOptions="Center" />
                        <Label Text="RÉSULTATS DU SCAN" 
                               FontSize="16" 
                               FontAttributes="Bold" 
                               TextColor="#06B6D4"
                               VerticalOptions="Center" />
                    </HorizontalStackLayout>
                    
                    <BoxView HeightRequest="2" 
                             Color="#8B5CF6" 
                             Opacity="0.3"
                             Margin="0,0,0,10" />
                    
                    <ScrollView MaximumHeightRequest="600">
                        <Label x:Name="ResultsLabel"
                               Text="⏳ En attente du premier scan..." 
                               FontSize="14" 
                               TextColor="#CBD5E1"
                               LineBreakMode="WordWrap"
                               LineHeight="1.4" />
                    </ScrollView>
                </VerticalStackLayout>
            </Border>

            <!-- Footer -->
            <Label Text="🛡️ PathFinder - Sécurité Réseau Professionnelle" 
                   FontSize="12" 
                   TextColor="#475569" 
                   HorizontalOptions="Center"
                   Margin="0,10,0,20" />

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
